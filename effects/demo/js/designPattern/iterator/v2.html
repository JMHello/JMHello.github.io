<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>外部迭代器</title>
</head>
<body>
<script>
    const Iterator = function (obj) {
      let current = 0

      // 迭代下一项
      const next = function () {
        current +=1
      }

      // 判断是否迭代结束
      const isDone = function () {
        return current >= obj.length
      }

      // 获取当前项
      const getCurrentItem = function () {
        return obj[current]
      }

      return {
        next,
        isDone,
        getCurrentItem
      }
    }

    function compare (iterator1, iterator2) {
      while (!iterator1.isDone() && !iterator2.isDone()) {
        if (iterator1.getCurrentItem() !== iterator2.getCurrentItem()) {
          throw new Error('iterator1 和 iterator2 不相等！')
        }
        iterator1.next()
        iterator2.next()
      }
      console.log('iterator1 和 iterator2 相等！')
    }

    const iterator1 = Iterator([1, 2, 3])
    const iterator2 = Iterator([1, 2, 3])
    compare(iterator1, iterator2)
</script>
</body>
</html>