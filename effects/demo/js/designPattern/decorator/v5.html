<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>装饰器模式</title>
</head>
<body>
<button tag="login" id="button">点击打开登录浮层</button>
<script>
    const after = function (fn, afterFn) {
      return function () {
        const ret = fn.apply(this, arguments)
        afterFn.apply(this, arguments)
        return ret
      }
    }

    var showLogin = function(){
      console.log( '打开登录浮层' );
    }

    var log = function(){
      console.log( '上报标签为: ' + this.getAttribute( 'tag' ) );
    }

    // 打开登录浮层之后上报数据
    showLogin = after(showLogin, log );

    document.getElementById( 'button' ).onclick = showLogin;
</script>
</body>
</html>